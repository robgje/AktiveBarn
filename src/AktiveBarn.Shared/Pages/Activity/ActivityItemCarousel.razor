<MudCarousel Class="mud-width-full rounded-b-xl" Style="@($"height:{height}px;")" ShowArrows="false" ShowBullets="false"
    EnableSwipeGesture="true" AutoCycle="@autocycle" AutoCycleTime="TimeSpan.FromSeconds(7)" TData="object">
    <MudCarouselItem Transition="transition" Color="@Color.Transparent">
        <MudImage ObjectFit="ObjectFit.Cover" Src="images/city.jpg" Class="carousel-image" />
        <MudGrid Justify="Justify.SpaceBetween" Spacing="4">
            <MudItem xs="12" Class="image-content image-content-tr">
                <MudGrid Justify="Justify.FlexEnd" Spacing="0">
                    <MudItem xs="1" Class="flex-initial">
                        <MudPaper Class="d-flex flex-row justify-center mud-width-full image-content-paper" Elevation="0">
                            <MudIconButton Icon="@Icons.Material.Rounded.FavoriteBorder" Color="Color.Dark" />
                        </MudPaper>
                    </MudItem>
                    <MudItem xs="1" Class="flex-initial">
                        <MudPaper Class="d-flex flex-row justify-center mud-width-full image-content-paper" Elevation="0">
                            <MudIconButton Icon="@Icons.Material.Rounded.FavoriteBorder" Color="Color.Dark" />
                        </MudPaper>
                    </MudItem>
                </MudGrid>
            </MudItem>
            <MudFlexBreak />
            <MudItem xs="12" Class="image-content">
                <MudGrid Justify="Justify.FlexStart" Class="pa-2" Spacing="0">
                    <MudItem xs="10">
                        <MudPaper Class="d-flex flex-row mud-width-full image-content-paper" Elevation="0">
                            <MudText Typo="Typo.h6">Shanghai</MudText>
                        </MudPaper>
                    </MudItem>
                    <MudFlexBreak />
                    <MudItem xs="10">
                        <MudPaper Class="d-flex flex-row mud-width-full image-content-paper" Elevation="0">
                            <MudText Typo="Typo.caption">Modern skyline metropolis</MudText>
                        </MudPaper>
                    </MudItem>
                </MudGrid>
            </MudItem> 
        </MudGrid>
    </MudCarouselItem>
    <MudCarouselItem Transition="transition" Color="@Color.Transparent">
        <MudCard>
            <MudImage ObjectFit="ObjectFit.Cover" Src="images/door.jpg" Class="carousel-image" />
            <MudCardContent Class="image-content">
                <MudText Typo="Typo.h6">Locked door</MudText>
                <MudText Typo="Typo.caption">Cabin in the woods</MudText>
            </MudCardContent>
        </MudCard>
    </MudCarouselItem>
    <MudCarouselItem Transition="transition" Color="@Color.Transparent">
        <MudCard>
            <MudImage ObjectFit="ObjectFit.Cover" Src="images/mountain.jpg" Class="carousel-image" />
            <MudCardContent Class="image-content">
                <MudText Typo="Typo.h6">Mt.Everest</MudText>
                <MudText Typo="Typo.caption">Tallest mountain in the world</MudText>
            </MudCardContent>
        </MudCard>
    </MudCarouselItem>
</MudCarousel>
        
@code {
    private bool autocycle = false;
    private Transition transition = Transition.Slide;
    [Parameter] public int height { get; set; } = 250;

    ObjectFit ImageFit = ObjectFit.Cover;

    void SetImageFit(ObjectFit value)
    {
        ImageFit = value;
    }
}

@* TODO: Replace padding-top with a more intuitive and possibly calculative way *@ 
<style>
    .image-content {
        position: absolute;
        bottom: 0;
        left: 0;
    }
    
    .image-content-tr {
        top: 0;
        right: 0;
        padding-top: 0px !important;
        flex-basis: 1px !important;
        height: calc(var(--mud-appbar-height) - var(--mud-appbar-height) / 8);
    }

    .image-content-paper {
        text-shadow: 0 0 20px black;
        color: var(--mud-palette-white);
        background-color: var(--mud-paper-elevation-0);
    }

    .carousel-image {
        height: 100%;
        width: 100%;
        position: relative;
        background:
            linear-gradient(to bottom,
                rgba(0, 0, 0, 0),
                rgba(0, 0, 0, 0.6));
    }
</style>