@page "/activity-item-carousel"
@using AktiveBarn.Shared.Pages.Activity

<MudCarousel Class="mud-width-full" Style="@($"height:{height}px;")" ShowArrows="false" ShowBullets="false"
    EnableSwipeGesture="true" AutoCycle="@autocycle" AutoCycleTime="TimeSpan.FromSeconds(7)" TData="object">
    <MudCarouselItem Transition="transition" Color="@Color.Transparent">
        <MudPaper Class="overlay" Elevation="0">
            <MudImage ObjectFit="ObjectFit.Cover" Src="images/city.jpg" Width="250"/>
            <MudPaper Class="overlay-content overlay-content-text" Elevation="0">
                <MudText Typo="Typo.h6">Shanghai</MudText>
            </MudPaper>
            <MudStack Row="true" Class="overlay-content-tr mx-1" Spacing="0" Justify="Justify.FlexEnd">
                <MudIconButton Icon="@Icons.Material.Outlined.FavoriteBorder" Style="@($"color:{Colors.Blue.Lighten5};")" />
            </MudStack>
        </MudPaper>
    </MudCarouselItem>
    <MudCarouselItem Transition="transition" Color="@Color.Transparent">
        <MudPaper Class="overlay" Elevation="0">
            <MudImage ObjectFit="ObjectFit.Cover" Src="images/door.jpg"/>
            <MudPaper Class="overlay-content overlay-content-text" Elevation="0">
                <MudText Typo="Typo.h6">Locked door</MudText>
                <MudText Typo="Typo.caption">Cabin in the woods</MudText>
            </MudPaper>
            <MudStack Row="true" Class="overlay-content-tr mx-1" Spacing="0" Justify="Justify.FlexEnd">
                <MudIconButton Icon="@Icons.Material.Filled.Favorite" Color="Color.Error" />
            </MudStack>
        </MudPaper>
    </MudCarouselItem>
    <MudCarouselItem Transition="transition" Color="@Color.Transparent">
        <MudPaper Class="overlay" Elevation="0">
            <MudImage ObjectFit="ObjectFit.Cover" Src="images/mountain.jpg"/>
            <MudPaper Class="overlay-content overlay-content-text" Elevation="0">
                <MudText Typo="Typo.h6">Mt.Everest</MudText>
                <MudText Typo="Typo.caption">Tallest mountain in the world</MudText>
            </MudPaper>
            <MudStack Row="true" Class="overlay-content-tr mx-1" Spacing="0" Justify="Justify.FlexEnd">
                <MudIconButton Icon="@Icons.Material.Outlined.FavoriteBorder" Style="@($"color:{Colors.Blue.Lighten5};")" />
            </MudStack>
        </MudPaper>
    </MudCarouselItem>
</MudCarousel>



@code {
    private bool autocycle = false;
    private Transition transition = Transition.Slide;
    [Parameter] public int height { get; set; } = 240;

    ObjectFit ImageFit = ObjectFit.Cover;

    void SetImageFit(ObjectFit value)
    {
        ImageFit = value;
    }
}

<style>
    .overlay {
    }
    
    .overlay img {
        display: block;
        width: 100%;
        height: 100%;
    }

    .overlay::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 120%;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent 35%);
        pointer-events: none;
    }

    .overlay-content {
      position: absolute;
      bottom: 0;
      left: 0;
      z-index: 2;
      padding-bottom: 32px;
      padding-left: 32px;
    }

    .overlay-content-tr {
        position: absolute;
        top: 0;
        right: 0;
        height: calc(var(--mud-appbar-height) - var(--mud-appbar-height) / 8) !important;
    }

    .overlay-content-tr .mud-icon-button {
        align-self: center;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        @* background: radial-gradient(circle, rgba(0, 0, 0, 0.3) 60%, rgb(0 0 0 / 10%) 100%); *@
        background: -webkit-radial-gradient(circle, #d3cce37a, #e9e4f054); /* Chrome 10-25, Safari 5.1-6 */
        background: radial-gradient(circle, #d3cce37a, #e9e4f054); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
    }

    .overlay-content-text {
      text-shadow: 0 0 20px black;
      color: var(--mud-palette-white);
      background-color: var(--mud-paper-elevation-0);
    }


</style>
