@* TODO: Add number of hearts with heart icon to carousel image*@
@* TODO: Convert MudCarouselItem content to grid for easier stacking(?)*@
<MudCarousel Class="mud-width-full rounded-b-xl" Style="@($"height:{height}px;")" ShowArrows="false" ShowBullets="false"
    EnableSwipeGesture="true" AutoCycle="@autocycle" AutoCycleTime="TimeSpan.FromSeconds(7)" TData="object">
    <MudCarouselItem Transition="transition" Color="@Color.Transparent">
        <MudCard>
            <MudImage ObjectFit="ObjectFit.Cover" Src="images/city.jpg" Class="carousel-image" />
            <MudCardContent Class="image-content">
                <MudText Typo="Typo.h6">Shanghai</MudText>
                <MudText Typo="Typo.caption">Modern skyline metropolis</MudText>
                <MudText Typo="Typo.caption">Modern skyline metropolis</MudText>
            </MudCardContent>
        </MudCard>
    </MudCarouselItem>
    <MudCarouselItem Transition="transition" Color="@Color.Transparent">
        <MudCard>
            <MudImage ObjectFit="ObjectFit.Cover" Src="images/door.jpg" Class="carousel-image" />
            <MudCardContent Class="image-content">
                <MudText Typo="Typo.h6">Locked door</MudText>
                <MudText Typo="Typo.caption">Cabin in the woods</MudText>
            </MudCardContent>
        </MudCard>
    </MudCarouselItem>
    <MudCarouselItem Transition="transition" Color="@Color.Transparent">
        <MudCard>
            <MudImage ObjectFit="ObjectFit.Cover" Src="images/mountain.jpg" Class="carousel-image" />
            <MudCardContent Class="image-content">
                <MudText Typo="Typo.h6">Mt.Everest</MudText>
                <MudText Typo="Typo.caption">Tallest mountain in the world</MudText>
            </MudCardContent>
        </MudCard>
    </MudCarouselItem>
</MudCarousel>

@code {
    private bool autocycle = false;
    private Transition transition = Transition.Slide;
    [Parameter] public int height {get; set;} = 250;

    ObjectFit ImageFit = ObjectFit.Cover;

    void SetImageFit(ObjectFit value)
    {
        ImageFit = value;
    }
}

<style>
    .image-content {
        position: absolute;
        bottom: 0;
        left: 0;
        color: var(--mud-palette-white);
        text-shadow: 0 0 20px black;
    }

    .carousel-image {
        height: 100%;
        width: 100%;
        position: relative;
        background:
            linear-gradient(to bottom,
                rgba(0, 0, 0, 0),
                rgba(0, 0, 0, 0.6));
    }
</style>